document.addEventListener('DOMContentLoaded', function () {
	const header = document.querySelector('header');

	// Adjust scroll position when clicking on an anchor link
	document.querySelectorAll('a[href^="#"]').forEach(anchor => {
		anchor.addEventListener('click', function (e) {
			e.preventDefault();
			const targetId = this.getAttribute('href').substring(1);
			const targetElement = document.getElementById(targetId);

			if (targetElement) {
				const headerHeight = header.offsetHeight;
				const targetPosition = targetElement.offsetTop - headerHeight;

				window.scrollTo({
					top: targetPosition,
					behavior: 'smooth'
				});
			}
		});
	});
});

document.addEventListener('DOMContentLoaded', function () {
	const sections = document.querySelectorAll('section');
	const navLinks = document.querySelectorAll('.page-header__nav-link');
	const header = document.querySelector('.page-header');

	function highlightNavigation() {
		const scrollPosition = window.scrollY + header.offsetHeight + 1;

		sections.forEach((section, index) => {
			const sectionTop = section.offsetTop;
			const sectionHeight = section.offsetHeight;

			if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
				navLinks.forEach(link => link.classList.remove('is-active'));
				navLinks[index].classList.add('is-active');
			}
		});
	}

	window.addEventListener('scroll', highlightNavigation);
	highlightNavigation(); // Call once to set initial state
});
